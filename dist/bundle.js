(()=>{"use strict";const t=(t,e)=>{const{action:o,payload:n}=t;switch(o){case"navigate":e.screen=n;break;case"changeBackground":e.background=n}return e};var e;!function(t){t.STORE="STORE"}(e||(e={}));let o=(({key:t,defaultValue:e})=>{const o=localStorage.getItem(t)||sessionStorage.getItem(t);return o?JSON.parse(o):e})({key:e.STORE,defaultValue:{screen:"LOGIN",background:"red"}}),n=[];const s=s=>{const a=JSON.parse(JSON.stringify(o)),r=t(s,a);var c;o=t(s,a),c=r,(({key:t,value:e,session:o=!1})=>{const n=o?sessionStorage:localStorage,s=JSON.stringify(e);n.setItem(t,s)})({key:e.STORE,value:c,session:!1}),n.forEach((t=>t.render()))},a=t=>({action:"navigate",payload:t});class r extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){var t;this.render();const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("button");null==e||e.addEventListener("click",(()=>{s(a("LOGIN"))}))}render(){this.shadowRoot&&(this.shadowRoot.innerHTML="<h1>Dashboard</h1><button>Click</button>")}}customElements.define("app-dashboard",r);class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){var t;this.render();const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("button");null==e||e.addEventListener("click",(()=>{s(a("DASHBOARD"))}))}render(){this.shadowRoot&&(this.shadowRoot.innerHTML="<h1>Login</h1>\n\t\t\t<button>Click</button>")}}var i;customElements.define("app-login",c),function(t){t.description="description",t.text_button="text_button"}(i||(i={}));class d extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return Object.keys({description:null,text_button:null})}attributeChangedCallback(t,e,o){this[t]=o,this.render()}connectedCallback(){var t;this.render();const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("button");null==e||e.addEventListener("click",(()=>{console.log("holi"),s({action:"changeBackgroud",payload:"red"})}))}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n      <h1>This is my card</h1>\n      <p>${this.description}</p>\n      <button>${this.text_button}</button>\n      `)}}customElements.define("app-card",d);class l extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),n=[...n,this]}connectedCallback(){this.render()}render(){var t,e;switch(this.shadowRoot&&(this.shadowRoot.innerHTML=""),o.screen){case"LOGIN":const o=this.ownerDocument.createElement("app-login");null===(t=this.shadowRoot)||void 0===t||t.appendChild(o);break;case"DASHBOARD":const n=this.ownerDocument.createElement("app-dashboard");null===(e=this.shadowRoot)||void 0===e||e.appendChild(n)}}}customElements.define("app-container",l)})();